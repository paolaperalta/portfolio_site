function redux_add_font(a,b){a.preventDefault();var c,d=jQuery(this);return c?void c.open():(c=wp.media({multiple:!0,library:{type:["application","font"]},title:d.data("choose"),button:{text:d.data("update")}}),c.on("click",function(){}),c.on("select",function(){var a=c.state().get("selection").first();if(c.close(),"application"===a.attributes.type||"font"===a.attributes.type){var d=jQuery(b).find(".media_add_font").attr("data-nonce"),e={action:"redux_custom_fonts",nonce:d,attachment_id:a.id,title:a.attributes.title,mime:a.attributes.mime};if("application/zip "==e.mime);else;jQuery.blockUI({message:"<h1>"+redux.args.please_wait+"...</h1>"}),jQuery.post(ajaxurl,e,function(a){a=jQuery.parseJSON(a),"success"==a.type?(window.onbeforeunload="",location.reload()):"error"==a.type&&alert("There was an error converting your font: "+a.msg)})}}),void c.open())}function redux_remove_font(a){!a.find(".remove-image").addClass("hide")}function redux_add_font(a,b){a.preventDefault();var c,d=jQuery(this);return c?void c.open():(c=wp.media({multiple:!0,library:{type:["application","font"]},title:d.data("choose"),button:{text:d.data("update")}}),c.on("click",function(){}),c.on("select",function(){var a=c.state().get("selection").first();if(c.close(),"application"===a.attributes.type||"font"===a.attributes.type){var d=jQuery(b).find(".media_add_font").attr("data-nonce"),e={action:"redux_custom_fonts",nonce:d,attachment_id:a.id,title:a.attributes.title,mime:a.attributes.mime};if("application/zip "==e.mime);else;jQuery.blockUI({message:"<h1>"+redux.args.please_wait+"...</h1>"}),jQuery.post(ajaxurl,e,function(a){a=jQuery.parseJSON(a),"success"==a.type?(window.onbeforeunload="",location.reload()):"error"==a.type&&alert("There was an error converting your font: "+a.msg)})}}),void c.open())}function redux_remove_font(a){!a.find(".remove-image").addClass("hide")}!function(a){"use strict";a.redux=a.redux||{},a(document).ready(function(){a.redux.custom_fonts()}),a.redux.custom_fonts=function(){a(".remove-font").unbind("click").on("click",function(){redux_remove_font(a(this).parents("fieldset.redux-field:first"))}),a(".media_add_font").unbind().on("click",function(b){redux_add_font(b,a(this).parents("fieldset.redux-field:first"))}),a(".fontDelete").on("click",function(a){a.preventDefault();var b=jQuery(this).parents("td:first");b.find(".spinner").show();var c=jQuery(this).data();return c.action="redux_custom_fonts",c.nonce=jQuery(this).parents(".redux-container-custom_font:first").find(".media_add_font").attr("data-nonce"),jQuery.post(ajaxurl,c,function(a){if(a=jQuery.parseJSON(a),a.type&&"success"==a.type){var c=b.parents("tbody:first").length;1==c?b.parents("table:first").fadeOut().remove():b.parents("tr:first").fadeOut().remove()}else alert("There was an error deleting your font: "+a.msg),b.find(".spinner").hide()}),!1})}}(jQuery),function(a){a.redux=a.redux||{},a(document).ready(function(){a.redux.custom_fonts()}),a.redux.custom_fonts=function(){a(".remove-font").unbind("click").on("click",function(){redux_remove_font(a(this).parents("fieldset.redux-field:first"))}),a(".media_add_font").unbind().on("click",function(b){redux_add_font(b,a(this).parents("fieldset.redux-field:first"))}),a(".fontDelete").on("click",function(a){a.preventDefault();var b=jQuery(this).parents("td:first");b.find(".spinner").show();var c=jQuery(this).data();return c.action="redux_custom_fonts",c.nonce=jQuery(this).parents(".redux-container-custom_font:first").find(".media_add_font").attr("data-nonce"),jQuery.post(ajaxurl,c,function(a){if(a=jQuery.parseJSON(a),a.type&&"success"==a.type){var c=b.parents("table >tbody >tr").length;1==c?b.parents("table:first").fadeOut().remove():b.parents("tr:first").fadeOut().remove()}else alert("There was an error deleting your font: "+a.msg),b.find(".spinner").hide()}),!1})}}(jQuery);